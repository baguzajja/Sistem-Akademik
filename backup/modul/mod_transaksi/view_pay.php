<?php defined('_FINDEX_') or die('Access Denied'); $md=(isset($_REQUEST['md']))? $_REQUEST['md']:null;switch($md){default :	require('librari/class_paging.php');	$p      	= new Paging;    $batas  	= 50;    $posisi 	= $p->cariPosisi($batas);$idc=(isset($_REQUEST['id']))? $_REQUEST['id']:null;//WHERE$whereProdi =(empty($_POST['gona']))? "" : "AND a.NIM LIKE '%$_POST[gona]%' OR a.Nama LIKE '%$_POST[gona]%'";$whereProdis =(empty($_POST['gona']))? "ORDER BY a.Nama, a.NIM ASC LIMIT $posisi,$batas" : "ORDER BY a.Nama, a.NIM ";switch($idc){default :	$query = "SELECT a.NIM,a.Nama,b.RegID,b.TotalBiaya,b.JenjangID        FROM mahasiswa a        INNER JOIN keuanganmhsw b        ON a.NIM=b.KeuanganMhswID AND a.NIM !=''        WHERE b.Aktif='Y' AND a.aktif='Y'        AND b.Keterangan!='' $whereProdi $whereProdis";	$w = _query($query);	$totalx = _query("SELECT a.MhswID FROM mahasiswa a        INNER JOIN keuanganmhsw b        ON a.NIM=b.KeuanganMhswID         WHERE b.Aktif='Y'         AND b.Keterangan!='' $whereProdi");	$judul="Data Pembayaran Semua Mahasiswa";break;case "S1":	$query = "SELECT a.NIM,a.Nama,b.RegID,b.TotalBiaya,b.JenjangID        FROM mahasiswa a        INNER JOIN keuanganmhsw b        ON a.NIM=b.KeuanganMhswID AND a.NIM !=''        WHERE b.Aktif='Y' AND a.aktif='Y'        AND b.Keterangan!='' AND b.JenjangID='S1' $whereProdi $whereProdis";	$w = _query($query);	$totalx = _query("SELECT a.MhswID FROM mahasiswa a        INNER JOIN keuanganmhsw b        ON a.NIM=b.KeuanganMhswID         WHERE b.Aktif='Y'         AND b.Keterangan!='' AND b.JenjangID='S1' $whereProdi");    $judul="Data Pembayaran Mahasiswa S1";break;case "S2":		$query = "SELECT a.NIM,a.Nama,b.RegID,b.TotalBiaya,b.JenjangID        FROM mahasiswa a        INNER JOIN keuanganmhsw b        ON a.NIM=b.KeuanganMhswID AND a.NIM !=''        WHERE b.Aktif='Y' AND a.aktif='Y'        AND b.Keterangan!='' AND b.JenjangID='S2' $whereProdi $whereProdis";	$w = _query($query);	$totalx = _query("SELECT a.MhswID FROM mahasiswa a        INNER JOIN keuanganmhsw b        ON a.NIM=b.KeuanganMhswID         WHERE b.Aktif='Y'         AND b.Keterangan!='' AND b.JenjangID='S2' $whereProdi");    $judul="Data Pembayaran Mahasiswa S2";break;}echo"<div class='widget-table'><div class='widget-toolbar' style='margin-bottom: 0;margin-top: 0;'><div class='row-fluid'><div class='pull-left'>	<h4 style='margin-bottom: 0;padding-top: 5px;'><i class='icon-hand-right'></i>&nbsp;&nbsp;$judul	</h4></div><div class='pull-right'>	<div class='btn-group'>";switch($idc){default :	echo"<a href='aksi-transaksi-pay.html' class='btn btn-small active'>Semua Pembayaran</a>		<a href='get-transaksi-pay-S1.html' class='btn btn-small'>Pembayaran S1</a>		<a href='get-transaksi-pay-S2.html' class='btn btn-small'>Pembayaran S2</a>";break;case "S1":	echo"<a href='aksi-transaksi-pay.html' class='btn btn-small'>Semua Pembayaran</a>		<a href='get-transaksi-pay-S1.html' class='btn btn-small active'>Pembayaran S1</a>		<a href='get-transaksi-pay-S2.html' class='btn btn-small'>Pembayaran S2</a>";break;case "S2":	echo"<a href='aksi-transaksi-pay.html' class='btn btn-small'>Semua Pembayaran</a>		<a href='get-transaksi-pay-S1.html' class='btn btn-small'>Pembayaran S1</a>		<a href='get-transaksi-pay-S2.html' class='btn btn-small active'>Pembayaran S2</a>";break;}echo"</div><input class='input-medium' id='appendedInputButtons' value='$_POST[gona]' name='gona' placeholder=' Nama / Nim ...' type='text' autocomplete='off'>	<button class='btn' type='submit'>Cari Mahasiswa</button></div></div></div><div class='widget-content'>";echo"<table class='table table-striped table-bordered table-highlight' id=''>			<thead>				<tr>					<th width='5%'><center>NO</center></th>					<th>NIM</th>					<th>NAMA MAHASISWA</th>					<th>TOTAL BIAYA</th>					<th>TOTAL BAYAR</th>					<th>SISA BAYAR</th>					<th>AKSI</th>				</tr>			</thead>			<tbody>";	$no = $posisi+1;	while ($r = _fetch_array($w)) {	$TotBiaya=digit($r['TotalBiaya']);	$TotalByr=TotalBayar($r['RegID'],$r['JenjangID']);	$TotalBayar=digit($TotalByr);    $Sisa=digit($r['TotalBiaya'] - $TotalByr);echo"<tr>		<td><center>$no</center></td>		<td><a href='actions-transaksi-pay-EditKeuangan-$r[RegID].html' class='ui-tooltip' data-placement='right' title='Edit Keuangan Mahasiswa'>$r[NIM]</a></td>		<td>$r[Nama]</td>		<td>Rp. <span class='pull-right'>$TotBiaya</span></td>		<td>Rp. <span class='pull-right'>$TotalBayar</span></td>		<td>Rp. <span class='pull-right'>$Sisa</span></td>		<td width='10%'>			<center>				<div class='btn-group'>				<a href='actions-transaksi-pay-DetailKeuangan-$r[RegID].html' class='btn btn-mini'>Detail</a>				<a href='actions-transaksi-pay-bayarCicilan-$r[RegID].html' class='btn btn-mini btn-success'>Bayar</a>				</div>			</center>		</td>	</tr>";$no++;}echo"</tbody></table>";echo"</div><div class='widget-toolbar'>";	$link 			= "pages-transaksi-pay-$idc";	$jmldata 		= _num_rows($totalx);    $jmlhalaman 	= $p->jumlahHalaman($jmldata, $batas);	$linkHalaman 	= $p->navHalaman($_GET['halaman'], $jmlhalaman,$link);	$paging =(empty($_REQUEST['gona']))? $linkHalaman: '';	$totalee =(empty($_REQUEST['gona']))? "<a class='btn'>TOTAL : $jmldata MAHASISWA</a>": '';echo"";echo "<div class='pagination' style='margin: 0;'><ul class='pull-left' ><li></li></ul><ul class='pull-left' ><li>$totalee</li></ul><ul class='pull-right' >$paging</ul></div>";echo"</div></div>";break;case "bayarCicilan":	require('form_bayarCicilan.php');break;case "DetailKeuangan":	require('detailKeuangan.php');break;case "EditKeuangan":	require('EditKeuangan.php');break;}